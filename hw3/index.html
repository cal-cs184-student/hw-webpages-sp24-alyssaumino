<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0066)https://static.us.edusercontent.com/files/NJ3fac61dpOrcWX1B1DyZasf -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
        body {
            background-color: #404040;
            background-color: white;
            padding: 100px;
            width: 1000px;
            margin: auto;
            text-align: left;
            font-weight: 300;
            font-family: 'Open Sans', sans-serif;
            color: #121212
        }

        h1, h2, h3, h4 {
            font-family: 'Source Sans Pro', sans-serif;
        }

        kbd {
            color: #121212;
        }

        blockquote {
            color: #888;
            border: 2px solid #333;
            padding: 10px;
            background-color: #ccc;
        }

        table.custom-tbl {
            border: 1px solid;
        }

            table.custom-tbl th {
                border: 1px solid;
                background-color: rgb(99, 209, 209);
            }

            table.custom-tbl td {
                border: 1px solid;
                background-color: #f1e686a8;
            }
    </style>

    <title>CS 184 Mesh Editor</title>

    <!-- Not using below due to lacking bold fontfaces -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro|Source+Sans+Pro:400,700" rel="stylesheet"> -->
    <link href="./index_update_files/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet" />

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script id="MathJax-script" async="" src="./index_update_files/tex-chtml.js.download"></script>
    <style type="text/css">
        .CtxtMenu_InfoClose {
            top: .2em;
            right: .2em;
        }

        .CtxtMenu_InfoContent {
            overflow: auto;
            text-align: left;
            font-size: 80%;
            padding: .4em .6em;
            border: 1px inset;
            margin: 1em 0px;
            max-height: 20em;
            max-width: 30em;
            background-color: #EEEEEE;
            white-space: normal;
        }

        .CtxtMenu_Info.CtxtMenu_MousePost {
            outline: none;
        }

        .CtxtMenu_Info {
            position: fixed;
            left: 50%;
            width: auto;
            text-align: center;
            border: 3px outset;
            padding: 1em 2em;
            background-color: #DDDDDD;
            color: black;
            cursor: default;
            font-family: message-box;
            font-size: 120%;
            font-style: normal;
            text-indent: 0;
            text-transform: none;
            line-height: normal;
            letter-spacing: normal;
            word-spacing: normal;
            word-wrap: normal;
            white-space: nowrap;
            float: none;
            z-index: 201;
            border-radius: 15px; /* Opera 10.5 and IE9 */
            -webkit-border-radius: 15px; /* Safari and Chrome */
            -moz-border-radius: 15px; /* Firefox */
            -khtml-border-radius: 15px; /* Konqueror */
            box-shadow: 0px 10px 20px #808080; /* Opera 10.5 and IE9 */
            -webkit-box-shadow: 0px 10px 20px #808080; /* Safari 3 & Chrome */
            -moz-box-shadow: 0px 10px 20px #808080; /* Forefox 3.5 */
            -khtml-box-shadow: 0px 10px 20px #808080; /* Konqueror */
            filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */
        }
    </style>
    <style type="text/css">
        .CtxtMenu_MenuClose {
            position: absolute;
            cursor: pointer;
            display: inline-block;
            border: 2px solid #AAA;
            border-radius: 18px;
            -webkit-border-radius: 18px; /* Safari and Chrome */
            -moz-border-radius: 18px; /* Firefox */
            -khtml-border-radius: 18px; /* Konqueror */
            font-family: "Courier New", Courier;
            font-size: 24px;
            color: #F0F0F0
        }

            .CtxtMenu_MenuClose span {
                display: block;
                background-color: #AAA;
                border: 1.5px solid;
                border-radius: 18px;
                -webkit-border-radius: 18px; /* Safari and Chrome */
                -moz-border-radius: 18px; /* Firefox */
                -khtml-border-radius: 18px; /* Konqueror */
                line-height: 0;
                padding: 8px 0 6px /* may need to be browser-specific */
            }

            .CtxtMenu_MenuClose:hover {
                color: white !important;
                border: 2px solid #CCC !important
            }

                .CtxtMenu_MenuClose:hover span {
                    background-color: #CCC !important
                }

                .CtxtMenu_MenuClose:hover:focus {
                    outline: none
                }
    </style>
    <style type="text/css">
        .CtxtMenu_Menu {
            position: absolute;
            background-color: white;
            color: black;
            width: auto;
            padding: 5px 0px;
            border: 1px solid #CCCCCC;
            margin: 0;
            cursor: default;
            font: menu;
            text-align: left;
            text-indent: 0;
            text-transform: none;
            line-height: normal;
            letter-spacing: normal;
            word-spacing: normal;
            word-wrap: normal;
            white-space: nowrap;
            float: none;
            z-index: 201;
            border-radius: 5px; /* Opera 10.5 and IE9 */
            -webkit-border-radius: 5px; /* Safari and Chrome */
            -moz-border-radius: 5px; /* Firefox */
            -khtml-border-radius: 5px; /* Konqueror */
            box-shadow: 0px 10px 20px #808080; /* Opera 10.5 and IE9 */
            -webkit-box-shadow: 0px 10px 20px #808080; /* Safari 3 & Chrome */
            -moz-box-shadow: 0px 10px 20px #808080; /* Forefox 3.5 */
            -khtml-box-shadow: 0px 10px 20px #808080; /* Konqueror */
        }

        .CtxtMenu_MenuItem {
            padding: 1px 2em;
            background: transparent;
        }

        .CtxtMenu_MenuArrow {
            position: absolute;
            right: .5em;
            padding-top: .25em;
            color: #666666;
            font-family: null;
            font-size: .75em
        }

        .CtxtMenu_MenuActive .CtxtMenu_MenuArrow {
            color: white
        }

        .CtxtMenu_MenuArrow.CtxtMenu_RTL {
            left: .5em;
            right: auto
        }

        .CtxtMenu_MenuCheck {
            position: absolute;
            left: .7em;
            font-family: null
        }

            .CtxtMenu_MenuCheck.CtxtMenu_RTL {
                right: .7em;
                left: auto
            }

        .CtxtMenu_MenuRadioCheck {
            position: absolute;
            left: .7em;
        }

            .CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {
                right: .7em;
                left: auto
            }

        .CtxtMenu_MenuInputBox {
            padding-left: 1em;
            right: .5em;
            color: #666666;
            font-family: null;
        }

            .CtxtMenu_MenuInputBox.CtxtMenu_RTL {
                left: .1em;
            }

        .CtxtMenu_MenuComboBox {
            left: .1em;
            padding-bottom: .5em;
        }

        .CtxtMenu_MenuSlider {
            left: .1em;
        }

        .CtxtMenu_SliderValue {
            position: absolute;
            right: .1em;
            padding-top: .25em;
            color: #333333;
            font-size: .75em
        }

        .CtxtMenu_SliderBar {
            outline: none;
            background: #d3d3d3
        }

        .CtxtMenu_MenuLabel {
            padding: 1px 2em 3px 1.33em;
            font-style: italic
        }

        .CtxtMenu_MenuRule {
            border-top: 1px solid #DDDDDD;
            margin: 4px 3px;
        }

        .CtxtMenu_MenuDisabled {
            color: GrayText
        }

        .CtxtMenu_MenuActive {
            background-color: #606872;
            color: white;
        }

        .CtxtMenu_MenuDisabled:focus {
            background-color: #E8E8E8
        }

        .CtxtMenu_MenuLabel:focus {
            background-color: #E8E8E8
        }

        .CtxtMenu_ContextMenu:focus {
            outline: none
        }

        .CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {
            outline: none
        }

        .CtxtMenu_SelectionMenu {
            position: relative;
            float: left;
            border-bottom: none;
            -webkit-box-shadow: none;
            -webkit-border-radius: 0px;
        }

        .CtxtMenu_SelectionItem {
            padding-right: 1em;
        }

        .CtxtMenu_Selection {
            right: 40%;
            width: 50%;
        }

        .CtxtMenu_SelectionBox {
            padding: 0em;
            max-height: 20em;
            max-width: none;
            background-color: #FFFFFF;
        }

        .CtxtMenu_SelectionDivider {
            clear: both;
            border-top: 2px solid #000000;
        }

        .CtxtMenu_Menu .CtxtMenu_MenuClose {
            top: -10px;
            left: -10px
        }
    </style>
    <style id="MJX-CHTML-styles">
        mjx-container[jax="CHTML"] {
            line-height: 0;
        }

        mjx-container [space="1"] {
            margin-left: .111em;
        }

        mjx-container [space="2"] {
            margin-left: .167em;
        }

        mjx-container [space="3"] {
            margin-left: .222em;
        }

        mjx-container [space="4"] {
            margin-left: .278em;
        }

        mjx-container [space="5"] {
            margin-left: .333em;
        }

        mjx-container [rspace="1"] {
            margin-right: .111em;
        }

        mjx-container [rspace="2"] {
            margin-right: .167em;
        }

        mjx-container [rspace="3"] {
            margin-right: .222em;
        }

        mjx-container [rspace="4"] {
            margin-right: .278em;
        }

        mjx-container [rspace="5"] {
            margin-right: .333em;
        }

        mjx-container [size="s"] {
            font-size: 70.7%;
        }

        mjx-container [size="ss"] {
            font-size: 50%;
        }

        mjx-container [size="Tn"] {
            font-size: 60%;
        }

        mjx-container [size="sm"] {
            font-size: 85%;
        }

        mjx-container [size="lg"] {
            font-size: 120%;
        }

        mjx-container [size="Lg"] {
            font-size: 144%;
        }

        mjx-container [size="LG"] {
            font-size: 173%;
        }

        mjx-container [size="hg"] {
            font-size: 207%;
        }

        mjx-container [size="HG"] {
            font-size: 249%;
        }

        mjx-container [width="full"] {
            width: 100%;
        }

        mjx-box {
            display: inline-block;
        }

        mjx-block {
            display: block;
        }

        mjx-itable {
            display: inline-table;
        }

        mjx-row {
            display: table-row;
        }

            mjx-row > * {
                display: table-cell;
            }

        mjx-mtext {
            display: inline-block;
            text-align: left;
        }

        mjx-mstyle {
            display: inline-block;
        }

        mjx-merror {
            display: inline-block;
            color: red;
            background-color: yellow;
        }

        mjx-mphantom {
            visibility: hidden;
        }

        _::-webkit-full-page-media, _:future, :root mjx-container {
            will-change: opacity;
        }

        mjx-assistive-mml {
            position: absolute !important;
            top: 0px;
            left: 0px;
            clip: rect(1px, 1px, 1px, 1px);
            padding: 1px 0px 0px 0px !important;
            border: 0px !important;
            display: block !important;
            width: auto !important;
            overflow: hidden !important;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

            mjx-assistive-mml[display="block"] {
                width: 100% !important;
            }

        mjx-math {
            display: inline-block;
            text-align: left;
            line-height: 0;
            text-indent: 0;
            font-style: normal;
            font-weight: normal;
            font-size: 100%;
            font-size-adjust: none;
            letter-spacing: normal;
            border-collapse: collapse;
            word-wrap: normal;
            word-spacing: normal;
            white-space: nowrap;
            direction: ltr;
            padding: 1px 0;
        }

        mjx-container[jax="CHTML"][display="true"] {
            display: block;
            text-align: center;
            margin: 1em 0;
        }

            mjx-container[jax="CHTML"][display="true"][width="full"] {
                display: flex;
            }

            mjx-container[jax="CHTML"][display="true"] mjx-math {
                padding: 0;
            }

        mjx-container[jax="CHTML"][justify="left"] {
            text-align: left;
        }

        mjx-container[jax="CHTML"][justify="right"] {
            text-align: right;
        }

        mjx-c {
            display: inline-block;
        }

        mjx-utext {
            display: inline-block;
            padding: .75em 0 .2em 0;
        }

        mjx-mo {
            display: inline-block;
            text-align: left;
        }

        mjx-stretchy-h {
            display: inline-table;
            width: 100%;
        }

            mjx-stretchy-h > * {
                display: table-cell;
                width: 0;
            }

                mjx-stretchy-h > * > mjx-c {
                    display: inline-block;
                    transform: scalex(1.0000001);
                }

                    mjx-stretchy-h > * > mjx-c::before {
                        display: inline-block;
                        width: initial;
                    }

            mjx-stretchy-h > mjx-ext {
                /* IE */ overflow: hidden;
                /* others */ overflow: clip visible;
                width: 100%;
            }

                mjx-stretchy-h > mjx-ext > mjx-c::before {
                    transform: scalex(500);
                }

                mjx-stretchy-h > mjx-ext > mjx-c {
                    width: 0;
                }

            mjx-stretchy-h > mjx-beg > mjx-c {
                margin-right: -.1em;
            }

            mjx-stretchy-h > mjx-end > mjx-c {
                margin-left: -.1em;
            }

        mjx-stretchy-v {
            display: inline-block;
        }

            mjx-stretchy-v > * {
                display: block;
            }

            mjx-stretchy-v > mjx-beg {
                height: 0;
            }

            mjx-stretchy-v > mjx-end > mjx-c {
                display: block;
            }

            mjx-stretchy-v > * > mjx-c {
                transform: scaley(1.0000001);
                transform-origin: left center;
                overflow: hidden;
            }

            mjx-stretchy-v > mjx-ext {
                display: block;
                height: 100%;
                box-sizing: border-box;
                border: 0px solid transparent;
                /* IE */ overflow: hidden;
                /* others */ overflow: visible clip;
            }

                mjx-stretchy-v > mjx-ext > mjx-c::before {
                    width: initial;
                    box-sizing: border-box;
                }

                mjx-stretchy-v > mjx-ext > mjx-c {
                    transform: scaleY(500) translateY(.075em);
                    overflow: visible;
                }

        mjx-mark {
            display: inline-block;
            height: 0px;
        }

        mjx-mn {
            display: inline-block;
            text-align: left;
        }

        mjx-c::before {
            display: block;
            width: 0;
        }

        mjx-c.mjx-c6B::before {
            padding: 0.694em 0.528em 0 0;
            content: "k";
        }

        mjx-c.mjx-c73::before {
            padding: 0.448em 0.394em 0.011em 0;
            content: "s";
        }

        mjx-c.mjx-c3D::before {
            padding: 0.583em 0.778em 0.082em 0;
            content: "=";
        }

        mjx-c.mjx-c35::before {
            padding: 0.666em 0.5em 0.022em 0;
            content: "5";
        }

        mjx-c.mjx-c2C::before {
            padding: 0.121em 0.278em 0.194em 0;
            content: ",";
        }

        mjx-c.mjx-c30::before {
            padding: 0.666em 0.5em 0.022em 0;
            content: "0";
        }

        mjx-c.mjx-c64::before {
            padding: 0.694em 0.556em 0.011em 0;
            content: "d";
        }

        mjx-c.mjx-c65::before {
            padding: 0.448em 0.444em 0.011em 0;
            content: "e";
        }

        mjx-c.mjx-c6E::before {
            padding: 0.442em 0.556em 0 0;
            content: "n";
        }

        mjx-c.mjx-c69::before {
            padding: 0.669em 0.278em 0 0;
            content: "i";
        }

        mjx-c.mjx-c74::before {
            padding: 0.615em 0.389em 0.01em 0;
            content: "t";
        }

        mjx-c.mjx-c79::before {
            padding: 0.431em 0.528em 0.204em 0;
            content: "y";
        }

        mjx-c.mjx-c31::before {
            padding: 0.666em 0.5em 0 0;
            content: "1";
        }

        mjx-c.mjx-c37::before {
            padding: 0.676em 0.5em 0.022em 0;
            content: "7";
        }
    </style>
</head>

<body>

  <h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2024</h1>
  <h1 align="middle">Project 4: Cloth Simulator</h1>
  <h2 align="middle">
      Veena Ummadisetty and Alyssa Umino, CS184
  </h2>

  <!-- Add Website URL -->
  <h2 align="middle">Website URL: <a href="https://cal-cs184-student.github.io/hw-webpages-sp24-alyssaumino/hw3/index.html">https://cal-cs184-student.github.io/hw-webpages-sp24-alyssaumino/hw3/index.html</a></h2>


  <br><br>

  <div>
    <h2 align="middle">Overview</h2>
    <p>In this project, we used a discrete mass and spring-based system with various physical constraints to represent cloth objects and create a real-time cloth simulation. The simulation models how the cloth moves over time, collisions (with other objects as well as itself), and various cloth shaders. In part 1, we modeled a sheet of cloth as an evenly spaced grid of point mass object representations, connected to neighboring masses with spring object representations. In part 2, we simulated the cloth’s movement by computing the total external forces and spring correction forces on each point mass, then used Verlet integration to calculate each point mass's change in position through numerical integration. We also constrained position updates with the 1995 Provot paper correction to prevent unreasonable deformation of springs. In part 3, we implemented cloth collisions with spheres and planes by using the sphere and plane equations to check whether the cloth had penetrated, then ‘bumping’ the cloth back up to the original surface (plus some offset) if intersected. In part 4, we used spatial hashing to model cloth self-collision by mapping point masses to 3D box volumes, checking within boxes to see if any points were too close, and applying a correction vector to enforce a minimum separation distance if the points had ‘collided’ with each other. In part 5, we coded a few basic GLSL shader programs to render the cloth with diffuse shading, Blinn-Phong shading (diffuse plus ambient plus specular), texture mapping, displacement and bump mapping (encoding a height map in a texture), and a mirror shader (environment mapped reflection). We encountered problems in part 4 with self-collision, first when our cloth representation would appear as a web and then when our cloth would disappear upon beginning the simulation. We solved the first problem by fixing our z axis position, correcting our random offset (which didn’t account for rand() giving between 0 and RAND_MAX instead of 0 to 1) and solved the second problem by using an if statement check to prevent division by zero errors that were sending our position vectors to nan.</p>
  </div>

  <a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-1">
  <h2 align="middle">Part 1: Masses and springs</h2>
  </a>
  <p>
      Overview: In Part 1, we are implementing a grid-based system of point masses and springs, utilizing structures defined in spring.h, pointMass.h, and cloth.h. Our main task in Cloth::buildGrid in cloth.cpp is to construct an evenly spaced grid of point masses, determined by num_width_points and num_height_points, with positioning that varies based on the cloth's orientation, either horizontal or vertical. This involves adjusting y or z coordinates and incorporating a degree of randomness for vertical orientations. After setting up these point masses and identifying which ones are pinned, we need to establish springs to enforce structural, shearing, and bending constraints. We must pay close attention to the positioning and connections of these masses, considering edge cases and efficient vector operations.
  </p>
    <blockquote><b>
      Take some screenshot(s) of <i>scene/pinned2.json</i> from a viewing angle where you can clearly see the cloth wireframe 
      to show the structure of your point masses and springs. 
    </b></blockquote>

    <div align="middle">
      <table style="width:100%">
          <tr align="center">
              <td>
                  <img src="images/part1_pinned2.png" align="middle" width="500px" />
                  <figcaption>Initial Configuration</figcaption>
              </td>
          </tr></table>
    </div>


    <blockquote><b>
      Show us what the wireframe looks like (1) without any shearing constraints, 
      (2) with only shearing constraints, and (3) with all constraints.
    </b></blockquote>

    <div align="middle">
        <table style="width:100%">
            <tbody>
                <tr align="center">
                    <td>
                        <img src="images/part1_no_shearing.png" align="middle" width="500px" />
                        <figcaption>No shearing constraints</figcaption>
                    </td>
                </tr>
            </tbody>
            <tbody>
                <tr align="center">
                    <td>
                        <img src="images/part1_only_shearing.png" align="middle" width="500px" />
                        <figcaption>Only shearing constraints</figcaption>
                    </td>
                </tr>
            </tbody>
            <tbody>
                <tr align="center">
                    <td>
                        <img src="images/part1_all_constraints.png" align="middle" width="500px" />
                        <figcaption>All constraints</figcaption>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>



  <a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-2">
  <h2 align="middle">Part 2: Simulation via numerical integration</h2>
  </a>
    <blockquote><b>
      Experiment with some the parameters in the simulation. 
      To do so, pause the simulation at the start with <kbd>P</kbd>, modify the values of interest, and then resume by pressing <kbd>P</kbd> again. 
      You can also restart the simulation at any time from the cloth's starting position by pressing <kbd>R</kbd>.
      <br>
      <small>
      Describe the effects of changing the spring constant <code>ks</code>; how does the cloth behave from start to rest with a very low <code>ks</code>? 
      A high <code>ks</code>?
      </small>
    </b></blockquote>

    <p>
        With a very low ks, the cloth is much more loose and flowy, and drops from start to rest in a very smooth manner. The final resting state sags deeper, with the bottom hanging lower. On the other hand, a high ks makes the cloth much more rigid. From start to rest, the cloth bounces in a less watery or flowy way, and quickly reaches a final resting state that does not sag as deep. The bottom does not dip and hangs much more shallowly.
    </p>


    <blockquote><b>
      <small>
        What about for <code>density</code>?
      </small>
    </b></blockquote>

    <p>
        With a low density, the cloth behaves lighter and does not sag as much, with the bottom hanging higher up. The initial drop from start also causes more of a high rebound, with the cloth reaching a higher position on the first bounce. With a high density, the cloth behaves heavier and sags more like a weighted blanket, with the bottom hanging lower down. The initial drop from start also causes less of a rebound reaction, if at all noticeably, with the cloth reaching a much lower position on the first bounce compared to a low density.
    </p>
    
    
    <blockquote><b>
      <small>
        What about for <code>damping</code>?
      </small>
    </b></blockquote>

    <p>
        With a low damping or no damping, the cloth bounces crazily and even partially inverts itself on the first rebound from the start state, creating a miniature hill. The cloth also takes a really long time to settle to the rest state, continuing to bounce and fluctuate for ages. With a high damping or the maximum damping, the cloth does not bounce at all. From the start state, the cloth immediately sinks to the rest state with minimal fluctuations in the material.
    </p>


    <blockquote><b>
      <small>
      For each of the above, observe any noticeable differences in the cloth compared to the default parameters 
      and show us some screenshots of those interesting differences and describe when they occur.
      </small>
    </b></blockquote>

    <p>
        With a low ks, the cloth behaves more loosely and flows more, which can be seen in the almost watery initial drop from the start position and also in the final resting state when the bottom sags deeper or lower. With a high ks, the cloth behaves more rigidly and flows less, which can be seen in the more stiff initial drop from the start position and also in the final resting state when the bottom does not sag as much in a more shallow position.
    </p>
  
    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part2_ks_5000_default.png" align="middle" width="300vw">
            <figcaption>Default ks = 5000</figcaption>
          </td>
          <td>
            <img src="images/part2_ks_1000.png" align="middle" width="300vw">
            <figcaption>ks = 1000</figcaption>
          </td>
          <td>
              <img src="images/part2_ks_100000.png" align="middle" width="300vw" />
              <figcaption>ks = 100000</figcaption>
          </td>
        </td></tr>
      </tbody></table>
    </div>

    <p>
        With a low density, the cloth acts like a lighter material and doesn’t really sag, with a high-hanging bottom pictured below and high rebound after the initial drop. With a high density, the cloth behaves like a heavier material and sags, with a low-hanging bottom pictured below and a lower rebound, if at all, after the initial drop
    </p>
  
    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part2_ks_5000_default.png" align="middle" width="300vw">
            <figcaption>Default density = 15</figcaption>
          </td>
          <td>
            <img src="images/part2_density_1.png" align="middle" width="300vw">
            <figcaption>density = 1</figcaption>
          </td>
          <td>
              <img src="images/part2_density_1000000.png" align="middle" width="300vw" />
              <figcaption>density = 1000000</figcaption>
          </td>
        </td></tr>
      </tbody></table>
    </div>

    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part2_density_15_default_bounce.PNG" align="middle" width="300vw">
            <figcaption>Default density = 15 bounce</figcaption>
          </td>
          <td>
            <img src="images/part2_density_1_bounce.PNG" align="middle" width="300vw">
            <figcaption>density = 1 bounce</figcaption>
          </td>
          <td>
              <img src="images/part2_density_1000000_bounce.PNG" align="middle" width="300vw" />
              <figcaption>density = 1000000 bounce</figcaption>
          </td>
        </td></tr>
      </tbody></table>
    </div>

    <p>
        With no damping, the cloth bounces wildly and even partially inverts itself on the first rebound. The cloth also bounces and shakes for a really long time before reaching its rest state. With maximum damping, the cloth does not bounce at all and there is no rebound to begin with. From the start state, the cloth immediately sinks to the rest state with minimal fluctuations in the material.
    </p>
  
    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part2_density_15_default_bounce.PNG" align="middle" width="300vw">
            <figcaption>Default damping = 0.2 bounce</figcaption>
          </td>
          <td>
            <img src="images/part2_damping_0.PNG" align="middle" width="300vw">
            <figcaption>damping = 0 bounce</figcaption>
          </td>
          <td>
              <img src="images/part2_damping_1.PNG" align="middle" width="300vw" />
              <figcaption>damping = 1 bounce (no bounce)</figcaption>
          </td>
        </td></tr>
      </tbody></table>
    </div>




    <blockquote><b>
    Show us a screenshot of your shaded cloth from <i>scene/pinned4.json</i> in its final resting state! 
    If you choose to use different parameters than the default ones, please list them.
    </b></blockquote>

    <div align="middle">
      <img src="images/part2_pinned4.png" align="middle" width="100%">
    </div>



  <a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-3">
  <h2 align="middle">Part 3: Handling collisions with other objects</h2>
  </a>
  <p>
      Overview of implementation: in this part, we implemented cloth collisions with spheres and planes by using the sphere and plane equations to check whether the cloth had penetrated, then ‘bumping’ the cloth back up to the original surface (plus some offset) if intersected. For the sphere, we loop through every point mass and first check whether a point mass position is exactly on or within one radius’s length away from the center of the sphere. If so, we calculate the tangent point where the point mass should have intersected the sphere by first computing the vector from the sphere’s center to the point mass position, then adding a radius-length vector of that direction to the sphere’s origin. Then, we take the tangent point and subtract the last position of the point mass, and add the resulting correction vector scaled by (1 - friction) to our point mass last position. For the plane, we loop through every point mass and first check if the point mass crossed over the plane in the last time step, which we do by subtracting the plane point position from both the point mass position and point mass last position, then taking the dot product of both vectors with the plane normal and checking if the product is negative. If so, we perform the bump by first finding the tangent point, aka taking the last position and adding the vector from the last position to the particle position of length dot(point - pm.last_position, normal) / dot(pm.position - pm.last_position, normal) where point and normal are of the plane. Then we get the correction vector by taking the tangent point, subtracting the last position, and adding the normal vector times some small offset. Finally we add the resulting correction vector scaled by (1 - friction) to our point mass last position.
  </p>

    <blockquote><b>
      Show us screenshots of your shaded cloth from <i>scene/sphere.json</i> in its final resting state 
      on the sphere using the default <code>ks = 5000</code> as well as with <code>ks = 500</code> and <code>ks = 50000</code>. 
    </b></blockquote>
    
    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part3_ks_5000.png" align="middle" width="300vw">
            <figcaption>Default ks = 5000</figcaption>
          </td>
          <td>
              <img src="images/part3_ks_500.png" align="middle" width="300vw" />
              <figcaption>ks = 500</figcaption>
          </td>
          <td>
            <img src="images/part3_ks_50000.png" align="middle" width="300vw" />
            <figcaption>ks = 50000</figcaption>
          </td>
        </tr>
      </tbody></table>
    </div>


    <blockquote><b>
      <small>Describe the differences in the results.</small>
    </b></blockquote>

    <p>
        For ks = 500, the cloth is much more form fitting and closely wrapped around the sphere. The folds are also smaller and are draped along the bottom of the sphere instead of along the body of the shape. For the default ks = 5000, the cloth is slightly less snug and the folds ride higher along the curve of the sphere, but the cloth still hugging the sphere pretty closely, as we can make out the spherical shape underneath. For ks = 50000, the cloth is hardly form fitting at all and we can hardly make out that there is a sphere underneath at all, since the cloth is much more rigid. The creases begin almost at the top of the sphere and the folds partially obscure the round shape.
    </p>


    <blockquote><b>
      Show us a screenshot of your shaded cloth lying peacefully at rest on the plane. 
      If you haven't by now, feel free to express your colorful creativity with the cloth! 
      (You will need to complete the shaders portion first to show custom colors.)
    </b></blockquote>

    <div align="middle">
      <img src="images/part3_plane.png" align="middle" width="100%">
    </div>



  <a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-4">
  <h2 align="middle">Part 4: Handling self-collisions</h2>
  </a>

    <blockquote><b>
      Show us at least 3 screenshots that document how your cloth falls and folds on itself, 
      starting with an early, initial self-collision 
      and ending with the cloth at a more restful state (even if it is still slightly bouncy on the ground).
    </b></blockquote>
    
    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part4_start.png" align="middle" width="300vw">
            <figcaption>Self collision 1</figcaption>
          </td>
          <td>
            <img src="images/part4_middle.png" align="middle" width="300vw">
            <figcaption>Self collision 2</figcaption>
          </td>
          <td>
            <img src="images/part4_end.png" align="middle" width="300vw">
            <figcaption>Self collision 3</figcaption>
          </td>
          <td>
        </td></tr>
      </tbody></table>
    </div>


    <blockquote><b>
      Vary the <code>density</code> as well as <code>ks</code> 
      
      and describe with words and screenshots how they affect the behavior of the cloth as it falls on itself.
    </b></blockquote>

    <p>
        With a lower density, the cloth makes larger, more sweeping folds as it falls on itself. The material is overall smoother as it falls and follows something of a curved shape matching the folds. With a higher density, the cloth makes smaller, more concentrated folds instead. The cloth appears more rumpled in the general shape of the tighter folds.
    </p>

    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
              <img src="images/part4_density_15_default.PNG" align="middle" width="300vw">
              <figcaption>Default density = 15</figcaption>
          </td>
          <td>
              <img src="images/part4_density_1.PNG" align="middle" width="300vw" />
              <figcaption>density = 1</figcaption>
          </td>
          <td>
            <img src="images/part4_density_30.PNG" align="middle" width="300vw" />
            <figcaption>density = 30</figcaption>
        </td>
        </tr>
      </tbody></table>
    </div>

    <p>
        With a lower ks, the cloth crumples on itself in a much tighter, horizontally controlled manner. The individual creases and folds in the cloth are much smaller as it falls. With a higher ks, the cloth falls in a more sinuous way, with wide sweeping curves in the fabric as the cloth descends. Instead of appearing crumpled and rumpled in the low ks case, the material appears much more smooth and follows large waves in the cloth.
    </p>

    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
              <img src="images/part4_density_15_default.PNG" align="middle" width="300vw">
              <figcaption>Default ks = 5000</figcaption>
          </td>
          <td>
              <img src="images/part4_ks_100.PNG" align="middle" width="300vw" />
              <figcaption>ks = 100</figcaption>
          </td>
          <td>
            <img src="images/part4_ks_100000.PNG" align="middle" width="300vw" />
            <figcaption>ks = 100000</figcaption>
        </td>
        </tr>
      </tbody></table>
    </div>



  <a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-5">
  <h2 align="middle">Part 5: Cloth Sim</h2>
  </a>

    <blockquote><b>
    Explain in your own words what is a shader program and how vertex and fragment shaders work together to create lighting and material effects.
    </b></blockquote>

    <p>
        A shader program is a specialized program used to perform shading: the process of determining how light interacts with surfaces in a 3D scene, primarily executed on the GPU. The vertex shader's primary role is to process individual vertices of a 3D object. It transforms vertex data from object space to screen space and performs operations like applying transformations and calculating initial lighting values. This transformed data is then used in the rasterization process to create fragments (potential pixels) for each polygon. Next, the fragment shader operates on these fragments to determine the final color of each pixel. This stage involves detailed calculations that consider various factors like lighting, texture, and the material properties of the surface. The combination of these two shaders allows for a broad range of visual effects, from simple flat shading to complex effects like texture mapping, bump and displacement mapping, and even environment-mapped reflections.
    </p>


    <blockquote><b>
    Explain the Blinn-Phong shading model in your own words. 
    Show a screenshot of your Blinn-Phong shader outputting only the ambient component, a screen shot only outputting the diffuse component, a screen shot only outputting the specular component, and one using the entire Blinn-Phong model.
    </b></blockquote>

    <p>
        The Blinn-Phong shading model for simulating the way light interacts with surfaces by breaking down lighting into three primary components: ambient, diffuse, and specular. The ambient light is the constant light present in the scene, mimicking the effect of indirect light that bounces around the environment. It doesn't depend on the position or angle of light sources, providing a base level of illumination for all objects. The diffuse light simulates the direct light that hits an object and scatters uniformly in all directions. It depends on the angle of the light source relative to the surface normal (the perpendicular direction of the surface). This is what gives objects their primary color and defines the shape of objects under lighting conditions. The specular light accounts for the bright, shiny spots where light sources directly reflect off surfaces. The size and intensity of these highlights depend on the viewer's perspective, the light source's angle, and the surface's smoothness or roughness. The Blinn-Phong model combines all these components, displaying a realistic representation of the object with nuanced shading and highlights.
    </p>

    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
              <img src="images/part5_bp_ambient.PNG" align="middle" width="400px">
              <figcaption>Ambient component only</figcaption>
              
          </td>
          <td>
              <img src="images/part5_bp_diffuse.PNG" align="middle" width="400px">
              <figcaption>Diffuse component only</figcaption>
          </td>
        </tr>
        <tr align="center">
          <td>
              <img src="images/part5_bp_specular.PNG" align="middle" width="400px">
              <figcaption>Specular component only</figcaption>
          </td>
          <td>
              <img src="images/part5_bp.PNG" align="middle" width="400px">
              <figcaption>Complete Blinn-Phong model</figcaption>
          </td>
        </tr>
      </tbody></table>
    </div>

      
    <blockquote><b>
    Show a screenshot of your texture mapping shader using your own custom texture by modifying the textures in <code>/textures/</code>.
    </b></blockquote>

    <div align="middle">
      <img src="images/part5_texture.PNG" align="middle" width="100%">
    </div>


    <blockquote><b>
    Show a screenshot of bump mapping on the cloth and on the sphere. 
    Show a screenshot of displacement mapping on the sphere. 
    Use the same texture for both renders. 
    You can either provide your own texture or use one of the ones in the textures directory, 
    BUT choose one that's not the default <code>texture_2.png</code>. 
    Compare the two approaches and resulting renders in your own words. 
    Compare how your the two shaders react to the sphere by changing the sphere mesh's coarseness by using <code>-o 16 -a 16</code> and then <code>-o 128 -a 128</code>.
    </b></blockquote>

    <div align="middle">
        <table style="width:100%">
            <tbody>
                <tr align="center">
                    <td>
                        <img src="images/part5_bump_cloth.PNG" align="middle" width="400vw" />
                        <figcaption>Bump Mapping on the Cloth</figcaption>
                    </td>
                    <td>
                        <img src="images/part5_bump_sphere.PNG" align="middle" width="400vw" />
                        <figcaption>Bump Mapping on the Sphere</figcaption>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr align="center">
                    <td>
                        <img src="images/part5_displacement_sphere.PNG" align="middle" width="400vw" />
                        <figcaption>Displacement Mapping on the Sphere</figcaption>
                    </td>
                    <td>
                        <img src="images/part5_displacement_sphere_coarse.PNG" align="middle" width="400vw" />
                        <figcaption>Displacement Mapping on the Sphere (coarser mesh)</figcaption>
                    </td>
                    <td>
                    </td>
                </tr>
            </tbody>
            <tbody>
                <tr align="center">
                    <td>
                        <img src="images/part5_bump_cloth_coarse.PNG" align="middle" width="400vw" />
                        <figcaption>Bump Mapping on the Cloth (coarser mesh)</figcaption>
                    </td>
                    <td>
                        <img src="images/part5_bump_sphere_coarse.PNG" align="middle" width="400vw" />
                        <figcaption>Bump Mapping on the Sphere (coarser mesh)</figcaption>
                    </td>
                    <td>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <p>
        Bump mapping alters the surface normals of the object based on a texture, creating the illusion of depth and texture without changing the actual geometry. When we apply bump mapping to both the cloth and the sphere, we observe a more textured appearance, with shadows and highlights giving the impression of a detailed surface. However, the silhouette of the objects remains unchanged because the geometry is not modified. The effect is more pronounced on a coarser mesh (like one with -o 16 -a 16 settings) as the larger polygons make the normal adjustments more noticeable. In contrast, on a finer mesh (like -o 128 -a 128), the effect might be subtler due to the higher density of vertices and normals smoothing out the perceived depth changes.
        Displacement mapping, on the other hand, physically alters the geometry of the mesh based on the texture. When applied to the sphere, this technique would actually modify the sphere's surface, creating real depth and elevations in accordance with the texture. This results in a more realistic and tangible alteration of the object's shape, particularly visible in the object's silhouette. On a coarser mesh, the displacement might appear blocky or less detailed, as there are fewer vertices to displace. However, with a finer mesh, the displacement can create highly detailed and complex surface structures, closely mimicking the texture's intricacies.
        Comparing the two, bump mapping is less computationally intensive but offers only a surface-level illusion of depth, whereas displacement mapping provides a more authentic recreation of the texture at the cost of higher computational requirements. On the sphere, these differences are especially evident, with bump mapping affecting the surface appearance and displacement mapping altering the actual shape.
    </p>


    <blockquote><b>
    Show a screenshot of your mirror shader on the cloth and on the sphere.
    </b></blockquote>

    <div align="middle">
      <table style="width:100%">
        <tbody><tr align="center">
          <td>
            <img src="images/part5_mirror_cloth.PNG" align="middle" width="400vw">
            <figcaption>Mirror Shader on the Cloth</figcaption>
          </td>
          <td>
            <img src="images/part5_mirror_sphere.PNG" align="middle" width="400vw">
            <figcaption>Mirror Shader on the Sphere</figcaption>
          </td>
          <td>
        </td></tr>
      </tbody></table>
    </div>



  <h2 align="middle">Contributions</h2>
  <p>
    Partner Veena worked on parts 1, 2, 3, 4, 5.5, and the writeup.
  </p>
  <p>
    Partner Alyssa worked on parts 2, 3, 4, 5, the writeup, and the website. 
  </p>



</body></html>